model User {
  id              String   @id @db.Uuid @default(uuid())
  login           String   @unique @db.VarChar(255)
  fullName        String?  @db.VarChar(255)
  email           String?  @db.VarChar(255)
  telegramId      String?  @db.VarChar(20)
  passwordHash    String   @db.VarChar(255) @default("placeholder")
  passwordVersion Int      @default(0)
  createdAt       DateTime @default(now())
  updatedAt       DateTime @updatedAt @default(now())
  admin           Admin?
  student         Student?
  teacher         Teacher?
}

model Admin {
  id   String  @unique @db.Uuid
  user User    @relation(fields: [id], references: [id])
}

model Student {
  id            String                @unique @db.Uuid
  user          User                  @relation(fields: [id], references: [id])
  teacherId     String                @db.Uuid
  teacher       Teacher               @relation(fields: [teacherId], references: [id])
  genitiveTasks StudentGenitiveTask[]
  stressTasks   StudentStressTask[]
  trickyTasks   StudentTrickyTask[]
}

model Teacher {
  id       String    @unique @db.Uuid
  user     User      @relation(fields: [id], references: [id])
  students Student[]
}
